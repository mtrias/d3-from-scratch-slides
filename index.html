<!DOCTYPE html>
<html>
  <head>
    <title>Title</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <textarea id="source">

class: inverse, center, middle

# Introducci√≥n a D3
Miguel Trias `<miguel@vividcortex.com>`

---

class: inverse, center, middle

<img src="vividcortex-white.svg" />

<br>

<p>https://vividcortex.com/</p>
<p>SAAS for Database Performance Monitoring</p>

---

class: inverse
# Agenda

1. Introduction
2. SVG
3. Visualizaciones "a mano"
4. d3

<br>

- Pre-Requisitos: un poco de HTML, CSS y Javascript
- Diapositivas: `https://github.com/mtrias/d3-intro`

---

class: inverse, center, middle
# SVG

---

class: center, middle
# SVG

Scalable Vector Graphics

<blockquote>
    Is an <strong>XML-based</strong> vector image format for <strong>two-dimensional graphics</strong> with support for <strong>interactivity and animation</strong>.
    The SVG specification is an open standard developed by the World Wide Web Consortium (W3C) since 1999.
</blockquote>

<footer>
    https://en.wikipedia.org/wiki/Scalable_Vector_Graphics
</footer>

---

# Se lleva bien con HTML

- Se puede embeber en HTML
- Misma sintaxis. (`<nodos con="atributos">`)
- API DOM
- eventos
- CSS
- No requiere plugins

---

# Rectangulo v1

```html
<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="250" height="200">
    <rect
        x="25"
        y="25"
        width="100"
        height="100"
        fill="indigo"
        stroke-width="8"
        stroke="gray"
    />
</svg>
```

<svg>
    <rect
        x="25"
        y="25"
        width="100"
        height="100"
        fill="indigo"
        stroke-width="8"
        stroke="gray"
    />
</svg>

---

class: middle, center
# Buenas Practicas

<p>Atributos = Geometria</p>
<p>CSS = Estilos</p>

---

# Rectangulo v2

```html
<svg>
    <rect
        x="25"
        y="25"
        width="100"
        height="100"
    />
</svg>
```

```css
rect {
    fill="indigo"
    stroke-width="8"
    stroke="gray"
}
```

<style>
    rect#svg-r2 {
        fill: indigo;
        stroke-width: 8;
        stroke: gray;
    }
</style>
<svg>
    <rect
        id="svg-r2"
        x="25"
        y="25"
        width="100"
        height="100"
    />
</svg>

---

# Mas Ejemplos

```html
<svg>
    <circle
        cx="125" cy="125" r="67"
        fill="orange"
    />

    <polyline
        points="4,100 4,150 150,150 150,50"
        stroke="red" fill="none"
    />

    <line
        x1="50" y1="50"
        x2="150" y2="150"
        stroke="blue" stroke-width="4"
    />
</svg>
```

<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="200">
  <circle cx="75" cy="75" r="67" fill="orange" />
  <polyline points="4,100 4,150 150,150 150,50" style="stroke:red" fill="none" />
  <line x1="50" y1="50" x2="150" y2="150" style="stroke:blue" />
</svg>

---

# Sistema de Coordenadas

<svg height="480" style="position: absolute; left: 50px; top: 120px;">
    <defs>
        <marker id="markerArrow" markerWidth="9" markerHeight="9" refX="2" refY="4.5" orient="auto" markerUnits="strokeWidth">
           <path d="M2,2 L2,7 L7,4.5 L2,2" />
        </marker>
    </defs>
    <line x1="20" y1="20" x2="20"  y2="400" style="marker-end: url(#markerArrow)" />
    <line x1="20" y1="20" x2="600" y2="20"  style="marker-end: url(#markerArrow)" />
</svg>

```html
<svg height="480">
    <defs>
        <marker id="markerArrow"
            markerWidth="9" markerHeight="9" markerUnits="strokeWidth"
            refX="2" refY="4.5"
            orient="auto"
        >
           <path d="M2,2 L2,7 L7,4.5 L2,2" />
        </marker>
    </defs>

    <line x1="20" y1="20" x2="20"  y2="350" class="flecha" />
    <line x1="20" y1="20" x2="600" y2="20"  class="flecha" />
</svg>
```

```css
svg .flecha {
    marker-end: url(#markerArrow);
}
```
---

# No hay z-index
```svg
<svg>
    <circle cx="100" cy="100" r="95" fill="orange" />
    <circle cx="200" cy="100" r="95" fill="indigo" />

    <circle cx="600" cy="100" r="95" fill="indigo" />
    <circle cx="500" cy="100" r="95" fill="orange" />
</svg>
```
<svg height="250" width="250">
    <circle cx="100" cy="100" r="95" fill="orange" />
    <circle cx="200" cy="100" r="95" fill="indigo" />

    <circle cx="600" cy="100" r="95" fill="indigo" />
    <circle cx="500" cy="100" r="95" fill="orange" />
</svg>

---

# Mas SVG

http://tutorials.jenkov.com/svg/index.html

---

# Tiempo de Trollear

```svg
<svg height="600" width="600">
    <circle cx="210" cy="210" r="210" class="no-stroke js" />
    <circle cx="210" cy="210" r="50"  class="no-stroke php" />
    <circle cx="210" cy="210" r="10"  class="no-stroke ruby" />

    <rect x="440" y="155" width="25" height="25" class="no-stroke js" />
    <rect x="440" y="185" width="25" height="25" class="no-stroke php" />
    <rect x="440" y="215" width="25" height="25" class="no-stroke ruby" />

    <text x="470" y="175">Javascript</text>
    <text x="470" y="205">Php</text>
    <text x="470" y="235">Ruby</text>
</svg>
```
<svg height="600" width="600">
    <circle cx="210" cy="210" r="210" class="no-stroke js" />
    <circle cx="210" cy="210" r="50"  class="no-stroke php" />
    <circle cx="210" cy="210" r="10"  class="no-stroke ruby" />

    <rect x="440" y="155" width="25" height="25" class="no-stroke js" />
    <rect x="440" y="185" width="25" height="25" class="no-stroke php" />
    <rect x="440" y="215" width="25" height="25" class="no-stroke ruby" />

    <text x="470" y="175">Javascript</text>
    <text x="470" y="205">Php</text>
    <text x="470" y="235">Ruby</text>
</svg>

???
- Coordenadas y Clases repetidas
- Mantenimiento complicado
- Posicionamiento complicado

---

# `<G>`

- Agrupar objetos
- Transformaciones aplicadas al `g` son heredadas por los hijos
- Conveniente para estilos
- Reciclar composiciones mediante `<use>`

<svg>
    <g fill="orange" transform="skewX(10)">
        <rect x="0"   y="25" width="55" height="55" />
        <rect x="80"  y="25" width="55" height="55" />
        <rect x="160" y="25" width="55" height="55" />
    </g>
</svg>

---

# `<G>` Un poco mejor

```svg
<svg>
    <g>
        <circle cx="210" cy="210" r="210" class="js" />
        <circle cx="210" cy="210" r="50"  class="php" />
        <circle cx="210" cy="210" r="10"  class="ruby" />
    </g>
    <g transform="translate(440)">
        <g>
            <rect y="155" width="25" height="25" class="js" />
            <rect y="185" width="25" height="25" class="php" />
            <rect y="215" width="25" height="25" class="ruby" />
        </g>
        <g transform="translate(40)">
            <text y="175">Javascript</text>
            <text y="205">Php</text>
            <text y="235">Ruby</text>
        </g>
    </g>
</svg>
```

???
- transform
- segundo "transform" es relativo al primero

---

class: inverse, center, middle

<img src="hate.png" />

---

class: inverse, center, middle
# D3

---

class: center, middle
# D3

Data Driven Documents

<blockquote>
    D3.js is a JavaScript library for manipulating documents based on data.
</blockquote>

<footer>
    http://d3js.org/
</footer>

---

class: center, middle
# SVG + D3

    </textarea>
    <script src="https://gnab.github.io/remark/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
